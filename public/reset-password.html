<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Redirecting…</title>
  <script>
    // Preserve search and hash tokens and redirect to SPA root with hash route
    (function () {
      try {
        // Build target: root + hash route + preserve any query or fragment
        var origin = window.location.origin || (window.location.protocol + '//' + window.location.host)
        var search = window.location.search || ''
        var hash = window.location.hash || ''
        // Build a redirect param containing the desired SPA path and the original
        // query/hash so the SPA can replace the URL to the clean route before mounting.
        var desired = '/reset-password' + (search || '') + (hash || '')
        var target = origin + '/?__redirect=' + encodeURIComponent(desired)
        window.location.replace(target)
      } catch (e) {
        // As a fallback, go to root
        window.location.replace('/')
      }
    })()
  </script>
</head>
<body>
  <p>Redirecting to reset password… If you are not redirected, <a id="link" href="/">click here</a>.</p>
  <script>document.getElementById('link').href = '/#/reset-password' + (location.search || '') + (location.hash || '')</script>
</body>
</html>
